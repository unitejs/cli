"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Main entry point.
 */
const cliBase_1 = require("unitejs-cli-core/dist/cliBase");
const engine_1 = require("unitejs-engine/dist/engine/engine");
const commandLineArgConstants_1 = require("./commandLineArgConstants");
const commandLineCommandConstants_1 = require("./commandLineCommandConstants");
class CLI extends cliBase_1.CLIBase {
    constructor() {
        super(CLI.APP_NAME);
    }
    initialise(logger, fileSystem) {
        return __awaiter(this, void 0, void 0, function* () {
            this._engine = new engine_1.Engine(logger, fileSystem);
            return this._engine.initialise();
        });
    }
    handleCustomCommand(logger, fileSystem, commandLineParser) {
        return __awaiter(this, void 0, void 0, function* () {
            let ret = -1;
            const command = commandLineParser.getCommand();
            switch (command) {
                case commandLineCommandConstants_1.CommandLineCommandConstants.CONFIGURE: {
                    logger.info("command", { command });
                    const packageName = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.PACKAGE_NAME);
                    const title = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.TITLE);
                    const license = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.LICENSE);
                    const sourceLanguage = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.SOURCE_LANGUAGE);
                    const moduleType = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.MODULE_TYPE);
                    const bundler = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.BUNDLER);
                    const unitTestRunner = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.UNIT_TEST_RUNNER);
                    const unitTestFramework = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.UNIT_TEST_FRAMEWORK);
                    const unitTestEngine = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.UNIT_TEST_ENGINE);
                    const e2eTestRunner = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.E2E_TEST_RUNNER);
                    const e2eTestFramework = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.E2E_TEST_FRAMEWORK);
                    const linter = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.LINTER);
                    const packageManager = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.PACKAGE_MANAGER);
                    const cssPre = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.CSS_PRE_PROCESSOR);
                    const cssPost = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.CSS_POST_PROCESSOR);
                    const applicationFramework = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.APP_FRAMEWORK);
                    const profile = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.PROFILE);
                    const force = commandLineParser.getBooleanArgument(commandLineArgConstants_1.CommandLineArgConstants.FORCE);
                    const outputDirectory = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OUTPUT_DIRECTORY);
                    ret = this.checkRemaining(logger, commandLineParser);
                    if (ret === 0) {
                        ret = yield this._engine.command(command, {
                            packageName,
                            title,
                            license,
                            sourceLanguage,
                            moduleType,
                            bundler,
                            unitTestRunner,
                            unitTestFramework,
                            unitTestEngine,
                            e2eTestRunner,
                            e2eTestFramework,
                            linter,
                            cssPre,
                            cssPost,
                            packageManager,
                            applicationFramework,
                            profile,
                            force,
                            outputDirectory
                        });
                    }
                    break;
                }
                case commandLineCommandConstants_1.CommandLineCommandConstants.CLIENT_PACKAGE: {
                    logger.info("command", { command });
                    const operation = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OPERATION);
                    const packageName = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.PACKAGE_NAME);
                    const version = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.VERSION);
                    const outputDirectory = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OUTPUT_DIRECTORY);
                    const packageManager = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.PACKAGE_MANAGER);
                    const preload = commandLineParser.getBooleanArgument(commandLineArgConstants_1.CommandLineArgConstants.PRELOAD);
                    const includeMode = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.INCLUDE_MODE);
                    const scriptIncludeMode = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.SCRIPT_INCLUDE_MODE);
                    const isPackage = commandLineParser.getBooleanArgument(commandLineArgConstants_1.CommandLineArgConstants.IS_PACKAGE);
                    const main = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.MAIN);
                    const mainMinified = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.MAIN_MINIFIED);
                    const noScript = commandLineParser.getBooleanArgument(commandLineArgConstants_1.CommandLineArgConstants.NO_SCRIPT);
                    const testingAdditions = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.TESTING_ADDITIONS);
                    const map = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.MAP);
                    const loaders = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.LOADERS);
                    const assets = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.ASSETS);
                    const profile = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.PROFILE);
                    ret = this.checkRemaining(logger, commandLineParser);
                    if (ret === 0) {
                        ret = yield this._engine.command(command, {
                            operation,
                            packageName,
                            version,
                            preload,
                            includeMode,
                            scriptIncludeMode,
                            main,
                            mainMinified,
                            testingAdditions,
                            isPackage,
                            assets,
                            map,
                            loaders,
                            noScript,
                            profile,
                            packageManager,
                            outputDirectory
                        });
                    }
                    break;
                }
                case commandLineCommandConstants_1.CommandLineCommandConstants.BUILD_CONFIGURATION: {
                    logger.info("command", { command });
                    const operation = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OPERATION);
                    const configurationName = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.CONFIGURATION_NAME);
                    const bundle = commandLineParser.getBooleanArgument(commandLineArgConstants_1.CommandLineArgConstants.BUNDLE);
                    const minify = commandLineParser.getBooleanArgument(commandLineArgConstants_1.CommandLineArgConstants.MINIFY);
                    const sourcemaps = commandLineParser.getBooleanArgument(commandLineArgConstants_1.CommandLineArgConstants.SOURCE_MAPS);
                    const outputDirectory = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OUTPUT_DIRECTORY);
                    ret = this.checkRemaining(logger, commandLineParser);
                    if (ret === 0) {
                        ret = yield this._engine.command(command, {
                            operation,
                            configurationName,
                            bundle,
                            minify,
                            sourcemaps,
                            outputDirectory
                        });
                    }
                    break;
                }
                case commandLineCommandConstants_1.CommandLineCommandConstants.PLATFORM: {
                    logger.info("command", { command });
                    const operation = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OPERATION);
                    const platformName = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.PLATFORM_NAME);
                    const outputDirectory = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OUTPUT_DIRECTORY);
                    ret = this.checkRemaining(logger, commandLineParser);
                    if (ret === 0) {
                        ret = yield this._engine.command(command, {
                            operation,
                            platformName,
                            outputDirectory
                        });
                    }
                }
                case commandLineCommandConstants_1.CommandLineCommandConstants.GENERATE: {
                    logger.info("command", { command });
                    const name = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.NAME);
                    const type = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.TYPE);
                    const subFolder = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.SUB_FOLDER);
                    const outputDirectory = commandLineParser.getStringArgument(commandLineArgConstants_1.CommandLineArgConstants.OUTPUT_DIRECTORY);
                    ret = this.checkRemaining(logger, commandLineParser);
                    if (ret === 0) {
                        ret = yield this._engine.command(command, {
                            name,
                            type,
                            subFolder,
                            outputDirectory
                        });
                    }
                }
            }
            return ret;
        });
    }
    displayHelp(logger) {
        logger.banner("Commands");
        logger.info("  help, version, configure, clientPackage, buildConfiguration, platform");
        logger.info("");
        logger.banner("configure");
        logger.info("");
        this.markdownTableToCli(logger, "| packageName         | plain text, package.json name rules apply    | Name to be used for your package                 |");
        this.markdownTableToCli(logger, "| title               | plain text                                   | Used on the web index page                       |");
        this.markdownTableToCli(logger, "| license             | plain text                                   | See [SPDX](https://spdx.org/licenses/) for options|");
        this.markdownTableToCli(logger, "| sourceLanguage      | JavaScript/TypeScript                        | The language you want to code in                 |");
        this.markdownTableToCli(logger, "| moduleType          | AMD/CommonJS/SystemJS                        | The module type you want to use                  |");
        this.markdownTableToCli(logger, "| bundler             | Browserify/RequireJS/SystemJSBuilder/Webpack | The bundler you want to use                      |");
        this.markdownTableToCli(logger, "| linter              | ESLint/TSLint/None                           | The linter                                       |");
        this.markdownTableToCli(logger, "|                     |                                              |   None - means no linting                        |");
        this.markdownTableToCli(logger, "| unitTestRunner      | Karma/None                                   | The unit test runner                             |");
        this.markdownTableToCli(logger, "|                     |                                              |   None - means no unit testing                   |");
        this.markdownTableToCli(logger, "| unitTestFramework   | Jasmine/MochaChai                            | The unit test framework to use                   |");
        this.markdownTableToCli(logger, "| unitTestEngine      | PhantomJS/ChromeHeadless                     | The unit test engine to execute tests            |");
        this.markdownTableToCli(logger, "| e2eTestRunner       | Protractor/WebdriverIO/None                  | The e2e test runner                              |");
        this.markdownTableToCli(logger, "| e2eTestFramework    | Jasmine/MochaChai                            | The e2e test framework to use                    |");
        this.markdownTableToCli(logger, "| cssPre              | Css/Less/Sass/Stylus                         | The css preprocessor to use                      |");
        this.markdownTableToCli(logger, "| cssPost             | PostCss/None                                 | The css postprocessor to use                     |");
        this.markdownTableToCli(logger, "|                     |                                              |   None - means no css post processor             |");
        this.markdownTableToCli(logger, "| appFramework        | Angular/Aurelia/PlainApp/React               | The application framework to use                 |");
        this.markdownTableToCli(logger, "| packageManager      | Npm/Yarn                                     | The package manager to use                       |");
        this.markdownTableToCli(logger, "|                     |                                              |   optional - defaults to npm if not already set  |");
        this.markdownTableToCli(logger, "| force               |                                              | Force overwrite of all existing configuration    |");
        this.markdownTableToCli(logger, "|                     |                                              |   optional - defaults to off                     |");
        this.markdownTableToCli(logger, "| outputDirectory     | 'path'                                       | The location that you want the project generated |");
        this.markdownTableToCli(logger, "|                     |                                              |   optional - defaults to current directory       |");
        logger.info("");
        logger.banner("buildConfiguration --operation=add");
        logger.info("");
        this.markdownTableToCli(logger, "| configurationName   | plain text                                | Name of the configuration to modify              |");
        this.markdownTableToCli(logger, "| bundle              |                                           | Should the final output be bundled               |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to off                     |");
        this.markdownTableToCli(logger, "| minify              |                                           | Should the final output be minified              |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to off                     |");
        this.markdownTableToCli(logger, "| sourcemaps          |                                           | Should the final output include sourcemaps       |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to on                      |");
        this.markdownTableToCli(logger, "| outputDirectory     | 'path'                                    | Location of the unite.json from configure        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to current directory       |");
        logger.info("");
        logger.banner("buildConfiguration --operation=remove");
        logger.info("");
        this.markdownTableToCli(logger, "| configurationName   | plain text                                | Name of the configuration to modify              |");
        this.markdownTableToCli(logger, "| outputDirectory     | 'path'                                    | Location of the unite.json from configure        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to current directory       |");
        logger.info("");
        logger.banner("clientPackage --operation=add");
        logger.info("");
        this.markdownTableToCli(logger, "| packageName         | plain text                                | Name of the package to add                       |");
        this.markdownTableToCli(logger, "| version             | 1.23.4                                    | Fixed version to install                         |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to latest version          |");
        this.markdownTableToCli(logger, "| preload             |                                           | Should the package be preloaded at app startup   |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to not preload             |");
        this.markdownTableToCli(logger, "| main                | 'path'                                    | The path to the main js file in the package      |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to looking it up           |");
        this.markdownTableToCli(logger, "|                     |                                           |   use * to mean all files to be mapped          |");
        this.markdownTableToCli(logger, "| mainMinified        | 'path'                                    | The path to the minified main js file            |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to using main              |");
        this.markdownTableToCli(logger, "| noScript            |                                           | Don't include any scripts from the package       |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to false                   |");
        this.markdownTableToCli(logger, "| includeMode         | app/test/both                             | When should the package be loaded as a module    |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to both                    |");
        this.markdownTableToCli(logger, "| scriptIncludeMode   | none/bundled/notBundled/both              | When should the package be included as a script  |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to none                    |");
        this.markdownTableToCli(logger, "| isPackage           |                                           | This is included as a package in module loaders  |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to not package             |");
        this.markdownTableToCli(logger, "| assets              | comma separated globs                     | These files are packed in platform builds        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to empty                   |");
        this.markdownTableToCli(logger, "| testingAdditions    | key1=value1;key2=value2                   | Additional scripts for testing                   |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to empty                   |");
        this.markdownTableToCli(logger, "| map                 | key1=value1;key2=value2                   | Additional module config maps                    |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to empty                   |");
        this.markdownTableToCli(logger, "| loaders             | key1=value1;key2=value2                   | Additional module config loaders                 |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to empty                   |");
        this.markdownTableToCli(logger, "| packageManager      | npm/yarn                                  | The package manager to use for the add           |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to npm if not already set  |");
        this.markdownTableToCli(logger, "| outputDirectory     | 'path'                                    | Location of the unite.json from configure        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to current directory       |");
        logger.info("");
        logger.banner("clientPackage --operation=remove");
        logger.info("");
        this.markdownTableToCli(logger, "| packageName         | plain text                                | Name of the package to remove                    |");
        this.markdownTableToCli(logger, "| packageManager      | npm/yarn                                  | The package manager to use for the remove        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to npm if not already set  |");
        this.markdownTableToCli(logger, "| outputDirectory     | 'path'                                    | Location of the unite.json from configure        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to current directory       |");
        logger.info("");
        logger.banner("platform --operation=add");
        logger.info("");
        this.markdownTableToCli(logger, "| platformName        | Web/Electron                              | Name of the platform to add                      |");
        this.markdownTableToCli(logger, "| outputDirectory     | 'path'                                    | Location of the unite.json from configure        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to current directory       |");
        logger.info("");
        logger.banner("platform --operation=remove");
        logger.info("");
        this.markdownTableToCli(logger, "| operation           | remove                                    |                                                  |");
        this.markdownTableToCli(logger, "| platformName        | Web/Electron                              | Name of the platform to remove                   |");
        this.markdownTableToCli(logger, "| outputDirectory     | 'path'                                    | Location of the unite.json from configure        |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to current directory       |");
        logger.info("");
        logger.banner("Global Arguments");
        logger.info("");
        this.markdownTableToCli(logger, "| noColor             |                                           | If this is used no color will appear in output   |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to on                      |");
        this.markdownTableToCli(logger, "| logFile             | 'filename'                                | The log file to store the logging in             |");
        this.markdownTableToCli(logger, "|                     |                                           |   optional - defaults to no file logging         |");
        this.markdownTableToCli(logger, "");
        logger.info("");
        logger.banner("More Information");
        logger.info("");
        logger.info("  See https://github.com/unitejs/cli#readme for further details.");
        return 0;
    }
    displayAdditionalVersion(logger) {
        logger.banner(`Engine v${this._engine.version()}`);
    }
}
CLI.APP_NAME = "UniteJS";
exports.CLI = CLI;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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LENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWhCLE1BQU0sQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsd0hBQXdILENBQUMsQ0FBQztRQUMxSixJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxFQUFFLHdIQUF3SCxDQUFDLENBQUM7UUFDMUosSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRSx3SEFBd0gsQ0FBQyxDQUFDO1FBQzFKLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsd0hBQXdILENBQUMsQ0FBQztRQUMxSixJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFaEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxrRUFBa0UsQ0FBQyxDQUFDO1FBRWhGLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRVMsd0JBQXdCLENBQUMsTUFBZTtRQUM5QyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDdkQsQ0FBQzs7QUFoVGMsWUFBUSxHQUFXLFNBQVMsQ0FBQztBQURoRCxrQkFrVEMiLCJmaWxlIjoiY2xpLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNYWluIGVudHJ5IHBvaW50LlxuICovXG5pbXBvcnQgeyBDTElCYXNlIH0gZnJvbSBcInVuaXRlanMtY2xpLWNvcmUvZGlzdC9jbGlCYXNlXCI7XG5pbXBvcnQgeyBDb21tYW5kTGluZVBhcnNlciB9IGZyb20gXCJ1bml0ZWpzLWNsaS1jb3JlL2Rpc3QvY29tbWFuZExpbmVQYXJzZXJcIjtcbmltcG9ydCB7IEluY2x1ZGVNb2RlIH0gZnJvbSBcInVuaXRlanMtZW5naW5lL2Rpc3QvY29uZmlndXJhdGlvbi9tb2RlbHMvdW5pdGUvaW5jbHVkZU1vZGVcIjtcbmltcG9ydCB7IFNjcmlwdEluY2x1ZGVNb2RlIH0gZnJvbSBcInVuaXRlanMtZW5naW5lL2Rpc3QvY29uZmlndXJhdGlvbi9tb2RlbHMvdW5pdGUvc2NyaXB0SW5jbHVkZU1vZGVcIjtcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCJ1bml0ZWpzLWVuZ2luZS9kaXN0L2VuZ2luZS9lbmdpbmVcIjtcbmltcG9ydCB7IEJ1aWxkQ29uZmlndXJhdGlvbk9wZXJhdGlvbiB9IGZyb20gXCJ1bml0ZWpzLWVuZ2luZS9kaXN0L2ludGVyZmFjZXMvYnVpbGRDb25maWd1cmF0aW9uT3BlcmF0aW9uXCI7XG5pbXBvcnQgeyBDbGllbnRQYWNrYWdlT3BlcmF0aW9uIH0gZnJvbSBcInVuaXRlanMtZW5naW5lL2Rpc3QvaW50ZXJmYWNlcy9jbGllbnRQYWNrYWdlT3BlcmF0aW9uXCI7XG5pbXBvcnQgeyBJQnVpbGRDb25maWd1cmF0aW9uQ29tbWFuZFBhcmFtcyB9IGZyb20gXCJ1bml0ZWpzLWVuZ2luZS9kaXN0L2ludGVyZmFjZXMvSUJ1aWxkQ29uZmlndXJhdGlvbkNvbW1hbmRQYXJhbXNcIjtcbmltcG9ydCB7IElDbGllbnRQYWNrYWdlQ29tbWFuZFBhcmFtcyB9IGZyb20gXCJ1bml0ZWpzLWVuZ2luZS9kaXN0L2ludGVyZmFjZXMvSUNsaWVudFBhY2thZ2VDb21tYW5kUGFyYW1zXCI7XG5pbXBvcnQgeyBJQ29uZmlndXJlQ29tbWFuZFBhcmFtcyB9IGZyb20gXCJ1bml0ZWpzLWVuZ2luZS9kaXN0L2ludGVyZmFjZXMvSUNvbmZpZ3VyZUNvbW1hbmRQYXJhbXNcIjtcbmltcG9ydCB7IElFbmdpbmUgfSBmcm9tIFwidW5pdGVqcy1lbmdpbmUvZGlzdC9pbnRlcmZhY2VzL0lFbmdpbmVcIjtcbmltcG9ydCB7IElHZW5lcmF0ZUNvbW1hbmRQYXJhbXMgfSBmcm9tIFwidW5pdGVqcy1lbmdpbmUvZGlzdC9pbnRlcmZhY2VzL0lHZW5lcmF0ZUNvbW1hbmRQYXJhbXNcIjtcbmltcG9ydCB7IElQbGF0Zm9ybUNvbW1hbmRQYXJhbXMgfSBmcm9tIFwidW5pdGVqcy1lbmdpbmUvZGlzdC9pbnRlcmZhY2VzL0lQbGF0Zm9ybUNvbW1hbmRQYXJhbXNcIjtcbmltcG9ydCB7IFBsYXRmb3JtT3BlcmF0aW9uIH0gZnJvbSBcInVuaXRlanMtZW5naW5lL2Rpc3QvaW50ZXJmYWNlcy9wbGF0Zm9ybU9wZXJhdGlvblwiO1xuaW1wb3J0IHsgSUZpbGVTeXN0ZW0gfSBmcm9tIFwidW5pdGVqcy1mcmFtZXdvcmsvZGlzdC9pbnRlcmZhY2VzL0lGaWxlU3lzdGVtXCI7XG5pbXBvcnQgeyBJTG9nZ2VyIH0gZnJvbSBcInVuaXRlanMtZnJhbWV3b3JrL2Rpc3QvaW50ZXJmYWNlcy9JTG9nZ2VyXCI7XG5pbXBvcnQgeyBDb21tYW5kTGluZUFyZ0NvbnN0YW50cyB9IGZyb20gXCIuL2NvbW1hbmRMaW5lQXJnQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDb21tYW5kTGluZUNvbW1hbmRDb25zdGFudHMgfSBmcm9tIFwiLi9jb21tYW5kTGluZUNvbW1hbmRDb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIENMSSBleHRlbmRzIENMSUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIEFQUF9OQU1FOiBzdHJpbmcgPSBcIlVuaXRlSlNcIjtcbiAgICBwcml2YXRlIF9lbmdpbmU6IElFbmdpbmU7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoQ0xJLkFQUF9OQU1FKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaW5pdGlhbGlzZShsb2dnZXI6IElMb2dnZXIsIGZpbGVTeXN0ZW06IElGaWxlU3lzdGVtKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gbmV3IEVuZ2luZShsb2dnZXIsIGZpbGVTeXN0ZW0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaGFuZGxlQ3VzdG9tQ29tbWFuZChsb2dnZXI6IElMb2dnZXIsIGZpbGVTeXN0ZW06IElGaWxlU3lzdGVtLCBjb21tYW5kTGluZVBhcnNlcjogQ29tbWFuZExpbmVQYXJzZXIpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICBsZXQgcmV0OiBudW1iZXIgPSAtMTtcblxuICAgICAgICBjb25zdCBjb21tYW5kID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0Q29tbWFuZCgpO1xuXG4gICAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xuICAgICAgICAgICAgY2FzZSBDb21tYW5kTGluZUNvbW1hbmRDb25zdGFudHMuQ09ORklHVVJFOiB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oXCJjb21tYW5kXCIsIHsgY29tbWFuZCB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhY2thZ2VOYW1lID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuUEFDS0FHRV9OQU1FKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLlRJVExFKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaWNlbnNlID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuTElDRU5TRSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlTGFuZ3VhZ2UgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5TT1VSQ0VfTEFOR1VBR0UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZVR5cGUgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5NT0RVTEVfVFlQRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVuZGxlciA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLkJVTkRMRVIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRUZXN0UnVubmVyID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuVU5JVF9URVNUX1JVTk5FUik7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdFRlc3RGcmFtZXdvcmsgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5VTklUX1RFU1RfRlJBTUVXT1JLKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bml0VGVzdEVuZ2luZSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLlVOSVRfVEVTVF9FTkdJTkUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGUyZVRlc3RSdW5uZXIgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5FMkVfVEVTVF9SVU5ORVIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGUyZVRlc3RGcmFtZXdvcmsgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5FMkVfVEVTVF9GUkFNRVdPUkspO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbnRlciA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLkxJTlRFUik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja2FnZU1hbmFnZXIgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5QQUNLQUdFX01BTkFHRVIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNzc1ByZSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLkNTU19QUkVfUFJPQ0VTU09SKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjc3NQb3N0ID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuQ1NTX1BPU1RfUFJPQ0VTU09SKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBsaWNhdGlvbkZyYW1ld29yayA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLkFQUF9GUkFNRVdPUkspO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGUgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5QUk9GSUxFKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JjZSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldEJvb2xlYW5Bcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5GT1JDRSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0RGlyZWN0b3J5ID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuT1VUUFVUX0RJUkVDVE9SWSk7XG5cbiAgICAgICAgICAgICAgICByZXQgPSB0aGlzLmNoZWNrUmVtYWluaW5nKGxvZ2dlciwgY29tbWFuZExpbmVQYXJzZXIpO1xuICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gYXdhaXQgdGhpcy5fZW5naW5lLmNvbW1hbmQ8SUNvbmZpZ3VyZUNvbW1hbmRQYXJhbXM+KGNvbW1hbmQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhY2thZ2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWNlbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlTGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRUZXN0UnVubmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdFRlc3RGcmFtZXdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0VGVzdEVuZ2luZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUyZVRlc3RSdW5uZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlMmVUZXN0RnJhbWV3b3JrLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGludGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzUHJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzUG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhY2thZ2VNYW5hZ2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25GcmFtZXdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXREaXJlY3RvcnlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRMaW5lQ29tbWFuZENvbnN0YW50cy5DTElFTlRfUEFDS0FHRToge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwiY29tbWFuZFwiLCB7IGNvbW1hbmQgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudDxDbGllbnRQYWNrYWdlT3BlcmF0aW9uPihDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5PUEVSQVRJT04pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhY2thZ2VOYW1lID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuUEFDS0FHRV9OQU1FKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuVkVSU0lPTik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0RGlyZWN0b3J5ID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuT1VUUFVUX0RJUkVDVE9SWSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja2FnZU1hbmFnZXIgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5QQUNLQUdFX01BTkFHRVIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZWxvYWQgPSBjb21tYW5kTGluZVBhcnNlci5nZXRCb29sZWFuQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuUFJFTE9BRCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5jbHVkZU1vZGUgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudDxJbmNsdWRlTW9kZT4oQ29tbWFuZExpbmVBcmdDb25zdGFudHMuSU5DTFVERV9NT0RFKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRJbmNsdWRlTW9kZSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50PFNjcmlwdEluY2x1ZGVNb2RlPihDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5TQ1JJUFRfSU5DTFVERV9NT0RFKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1BhY2thZ2UgPSBjb21tYW5kTGluZVBhcnNlci5nZXRCb29sZWFuQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuSVNfUEFDS0FHRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFpbiA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLk1BSU4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1haW5NaW5pZmllZCA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLk1BSU5fTUlOSUZJRUQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vU2NyaXB0ID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0Qm9vbGVhbkFyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLk5PX1NDUklQVCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdGluZ0FkZGl0aW9ucyA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLlRFU1RJTkdfQURESVRJT05TKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5NQVApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRlcnMgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5MT0FERVJTKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhc3NldHMgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5BU1NFVFMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGUgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5QUk9GSUxFKTtcbiAgICAgICAgICAgICAgICByZXQgPSB0aGlzLmNoZWNrUmVtYWluaW5nKGxvZ2dlciwgY29tbWFuZExpbmVQYXJzZXIpO1xuICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gYXdhaXQgdGhpcy5fZW5naW5lLmNvbW1hbmQ8SUNsaWVudFBhY2thZ2VDb21tYW5kUGFyYW1zPihjb21tYW5kLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWNrYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRJbmNsdWRlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluTWluaWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0aW5nQWRkaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQYWNrYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vU2NyaXB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhY2thZ2VNYW5hZ2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RGlyZWN0b3J5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBDb21tYW5kTGluZUNvbW1hbmRDb25zdGFudHMuQlVJTERfQ09ORklHVVJBVElPTjoge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwiY29tbWFuZFwiLCB7IGNvbW1hbmQgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudDxCdWlsZENvbmZpZ3VyYXRpb25PcGVyYXRpb24+KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLk9QRVJBVElPTik7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlndXJhdGlvbk5hbWUgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5DT05GSUdVUkFUSU9OX05BTUUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1bmRsZSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldEJvb2xlYW5Bcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5CVU5ETEUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbmlmeSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldEJvb2xlYW5Bcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5NSU5JRlkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZW1hcHMgPSBjb21tYW5kTGluZVBhcnNlci5nZXRCb29sZWFuQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuU09VUkNFX01BUFMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dERpcmVjdG9yeSA9IGNvbW1hbmRMaW5lUGFyc2VyLmdldFN0cmluZ0FyZ3VtZW50KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLk9VVFBVVF9ESVJFQ1RPUlkpO1xuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuY2hlY2tSZW1haW5pbmcobG9nZ2VyLCBjb21tYW5kTGluZVBhcnNlcik7XG4gICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXQgPSBhd2FpdCB0aGlzLl9lbmdpbmUuY29tbWFuZDxJQnVpbGRDb25maWd1cmF0aW9uQ29tbWFuZFBhcmFtcz4oY29tbWFuZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBidW5kbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pZnksXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VtYXBzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RGlyZWN0b3J5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBDb21tYW5kTGluZUNvbW1hbmRDb25zdGFudHMuUExBVEZPUk06IHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhcImNvbW1hbmRcIiwgeyBjb21tYW5kIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQ8UGxhdGZvcm1PcGVyYXRpb24+KENvbW1hbmRMaW5lQXJnQ29uc3RhbnRzLk9QRVJBVElPTik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhdGZvcm1OYW1lID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuUExBVEZPUk1fTkFNRSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0RGlyZWN0b3J5ID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuT1VUUFVUX0RJUkVDVE9SWSk7XG4gICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5jaGVja1JlbWFpbmluZyhsb2dnZXIsIGNvbW1hbmRMaW5lUGFyc2VyKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGF3YWl0IHRoaXMuX2VuZ2luZS5jb21tYW5kPElQbGF0Zm9ybUNvbW1hbmRQYXJhbXM+KGNvbW1hbmQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dERpcmVjdG9yeVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZExpbmVDb21tYW5kQ29uc3RhbnRzLkdFTkVSQVRFOiB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oXCJjb21tYW5kXCIsIHsgY29tbWFuZCB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBjb21tYW5kTGluZVBhcnNlci5nZXRTdHJpbmdBcmd1bWVudChDb21tYW5kTGluZUFyZ0NvbnN0YW50cy5OQU1FKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuVFlQRSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViRm9sZGVyID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuU1VCX0ZPTERFUik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0RGlyZWN0b3J5ID0gY29tbWFuZExpbmVQYXJzZXIuZ2V0U3RyaW5nQXJndW1lbnQoQ29tbWFuZExpbmVBcmdDb25zdGFudHMuT1VUUFVUX0RJUkVDVE9SWSk7XG4gICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5jaGVja1JlbWFpbmluZyhsb2dnZXIsIGNvbW1hbmRMaW5lUGFyc2VyKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGF3YWl0IHRoaXMuX2VuZ2luZS5jb21tYW5kPElHZW5lcmF0ZUNvbW1hbmRQYXJhbXM+KGNvbW1hbmQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViRm9sZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RGlyZWN0b3J5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3BsYXlIZWxwKGxvZ2dlcjogSUxvZ2dlcik6IG51bWJlciB7XG4gICAgICAgIGxvZ2dlci5iYW5uZXIoXCJDb21tYW5kc1wiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCIgIGhlbHAsIHZlcnNpb24sIGNvbmZpZ3VyZSwgY2xpZW50UGFja2FnZSwgYnVpbGRDb25maWd1cmF0aW9uLCBwbGF0Zm9ybVwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG5cbiAgICAgICAgbG9nZ2VyLmJhbm5lcihcImNvbmZpZ3VyZVwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IHBhY2thZ2VOYW1lICAgICAgICAgfCBwbGFpbiB0ZXh0LCBwYWNrYWdlLmpzb24gbmFtZSBydWxlcyBhcHBseSAgICB8IE5hbWUgdG8gYmUgdXNlZCBmb3IgeW91ciBwYWNrYWdlICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCB0aXRsZSAgICAgICAgICAgICAgIHwgcGxhaW4gdGV4dCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBVc2VkIG9uIHRoZSB3ZWIgaW5kZXggcGFnZSAgICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgbGljZW5zZSAgICAgICAgICAgICB8IHBsYWluIHRleHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU2VlIFtTUERYXShodHRwczovL3NwZHgub3JnL2xpY2Vuc2VzLykgZm9yIG9wdGlvbnN8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBzb3VyY2VMYW5ndWFnZSAgICAgIHwgSmF2YVNjcmlwdC9UeXBlU2NyaXB0ICAgICAgICAgICAgICAgICAgICAgICAgfCBUaGUgbGFuZ3VhZ2UgeW91IHdhbnQgdG8gY29kZSBpbiAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgbW9kdWxlVHlwZSAgICAgICAgICB8IEFNRC9Db21tb25KUy9TeXN0ZW1KUyAgICAgICAgICAgICAgICAgICAgICAgIHwgVGhlIG1vZHVsZSB0eXBlIHlvdSB3YW50IHRvIHVzZSAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGJ1bmRsZXIgICAgICAgICAgICAgfCBCcm93c2VyaWZ5L1JlcXVpcmVKUy9TeXN0ZW1KU0J1aWxkZXIvV2VicGFjayB8IFRoZSBidW5kbGVyIHlvdSB3YW50IHRvIHVzZSAgICAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBsaW50ZXIgICAgICAgICAgICAgIHwgRVNMaW50L1RTTGludC9Ob25lICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBUaGUgbGludGVyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBOb25lIC0gbWVhbnMgbm8gbGludGluZyAgICAgICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IHVuaXRUZXN0UnVubmVyICAgICAgfCBLYXJtYS9Ob25lICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFRoZSB1bml0IHRlc3QgcnVubmVyICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIE5vbmUgLSBtZWFucyBubyB1bml0IHRlc3RpbmcgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgdW5pdFRlc3RGcmFtZXdvcmsgICB8IEphc21pbmUvTW9jaGFDaGFpICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVGhlIHVuaXQgdGVzdCBmcmFtZXdvcmsgdG8gdXNlICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IHVuaXRUZXN0RW5naW5lICAgICAgfCBQaGFudG9tSlMvQ2hyb21lSGVhZGxlc3MgICAgICAgICAgICAgICAgICAgICB8IFRoZSB1bml0IHRlc3QgZW5naW5lIHRvIGV4ZWN1dGUgdGVzdHMgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBlMmVUZXN0UnVubmVyICAgICAgIHwgUHJvdHJhY3Rvci9XZWJkcml2ZXJJTy9Ob25lICAgICAgICAgICAgICAgICAgfCBUaGUgZTJlIHRlc3QgcnVubmVyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgZTJlVGVzdEZyYW1ld29yayAgICB8IEphc21pbmUvTW9jaGFDaGFpICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVGhlIGUyZSB0ZXN0IGZyYW1ld29yayB0byB1c2UgICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGNzc1ByZSAgICAgICAgICAgICAgfCBDc3MvTGVzcy9TYXNzL1N0eWx1cyAgICAgICAgICAgICAgICAgICAgICAgICB8IFRoZSBjc3MgcHJlcHJvY2Vzc29yIHRvIHVzZSAgICAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBjc3NQb3N0ICAgICAgICAgICAgIHwgUG9zdENzcy9Ob25lICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBUaGUgY3NzIHBvc3Rwcm9jZXNzb3IgdG8gdXNlICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBOb25lIC0gbWVhbnMgbm8gY3NzIHBvc3QgcHJvY2Vzc29yICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGFwcEZyYW1ld29yayAgICAgICAgfCBBbmd1bGFyL0F1cmVsaWEvUGxhaW5BcHAvUmVhY3QgICAgICAgICAgICAgICB8IFRoZSBhcHBsaWNhdGlvbiBmcmFtZXdvcmsgdG8gdXNlICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBwYWNrYWdlTWFuYWdlciAgICAgIHwgTnBtL1lhcm4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBUaGUgcGFja2FnZSBtYW5hZ2VyIHRvIHVzZSAgICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIG5wbSBpZiBub3QgYWxyZWFkeSBzZXQgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGZvcmNlICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEZvcmNlIG92ZXJ3cml0ZSBvZiBhbGwgZXhpc3RpbmcgY29uZmlndXJhdGlvbiAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gb2ZmICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgb3V0cHV0RGlyZWN0b3J5ICAgICB8ICdwYXRoJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVGhlIGxvY2F0aW9uIHRoYXQgeW91IHdhbnQgdGhlIHByb2plY3QgZ2VuZXJhdGVkIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgb3B0aW9uYWwgLSBkZWZhdWx0cyB0byBjdXJyZW50IGRpcmVjdG9yeSAgICAgICB8XCIpO1xuICAgICAgICBsb2dnZXIuaW5mbyhcIlwiKTtcblxuICAgICAgICBsb2dnZXIuYmFubmVyKFwiYnVpbGRDb25maWd1cmF0aW9uIC0tb3BlcmF0aW9uPWFkZFwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGNvbmZpZ3VyYXRpb25OYW1lICAgfCBwbGFpbiB0ZXh0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE5hbWUgb2YgdGhlIGNvbmZpZ3VyYXRpb24gdG8gbW9kaWZ5ICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBidW5kbGUgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTaG91bGQgdGhlIGZpbmFsIG91dHB1dCBiZSBidW5kbGVkICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIG9mZiAgICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IG1pbmlmeSAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFNob3VsZCB0aGUgZmluYWwgb3V0cHV0IGJlIG1pbmlmaWVkICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gb2ZmICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgc291cmNlbWFwcyAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU2hvdWxkIHRoZSBmaW5hbCBvdXRwdXQgaW5jbHVkZSBzb3VyY2VtYXBzICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgb3B0aW9uYWwgLSBkZWZhdWx0cyB0byBvbiAgICAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBvdXRwdXREaXJlY3RvcnkgICAgIHwgJ3BhdGgnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMb2NhdGlvbiBvZiB0aGUgdW5pdGUuanNvbiBmcm9tIGNvbmZpZ3VyZSAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIGN1cnJlbnQgZGlyZWN0b3J5ICAgICAgIHxcIik7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiXCIpO1xuXG4gICAgICAgIGxvZ2dlci5iYW5uZXIoXCJidWlsZENvbmZpZ3VyYXRpb24gLS1vcGVyYXRpb249cmVtb3ZlXCIpO1xuICAgICAgICBsb2dnZXIuaW5mbyhcIlwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgY29uZmlndXJhdGlvbk5hbWUgICB8IHBsYWluIHRleHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTmFtZSBvZiB0aGUgY29uZmlndXJhdGlvbiB0byBtb2RpZnkgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IG91dHB1dERpcmVjdG9yeSAgICAgfCAncGF0aCcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExvY2F0aW9uIG9mIHRoZSB1bml0ZS5qc29uIGZyb20gY29uZmlndXJlICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gY3VycmVudCBkaXJlY3RvcnkgICAgICAgfFwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG5cbiAgICAgICAgbG9nZ2VyLmJhbm5lcihcImNsaWVudFBhY2thZ2UgLS1vcGVyYXRpb249YWRkXCIpO1xuICAgICAgICBsb2dnZXIuaW5mbyhcIlwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgcGFja2FnZU5hbWUgICAgICAgICB8IHBsYWluIHRleHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTmFtZSBvZiB0aGUgcGFja2FnZSB0byBhZGQgICAgICAgICAgICAgICAgICAgICAgIHxcIik7XG5cbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgdmVyc2lvbiAgICAgICAgICAgICB8IDEuMjMuNCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRml4ZWQgdmVyc2lvbiB0byBpbnN0YWxsICAgICAgICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgb3B0aW9uYWwgLSBkZWZhdWx0cyB0byBsYXRlc3QgdmVyc2lvbiAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBwcmVsb2FkICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTaG91bGQgdGhlIHBhY2thZ2UgYmUgcHJlbG9hZGVkIGF0IGFwcCBzdGFydHVwICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIG5vdCBwcmVsb2FkICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IG1haW4gICAgICAgICAgICAgICAgfCAncGF0aCcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFRoZSBwYXRoIHRvIHRoZSBtYWluIGpzIGZpbGUgaW4gdGhlIHBhY2thZ2UgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gbG9va2luZyBpdCB1cCAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICB1c2UgKiB0byBtZWFuIGFsbCBmaWxlcyB0byBiZSBtYXBwZWQgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgbWFpbk1pbmlmaWVkICAgICAgICB8ICdwYXRoJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVGhlIHBhdGggdG8gdGhlIG1pbmlmaWVkIG1haW4ganMgZmlsZSAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgb3B0aW9uYWwgLSBkZWZhdWx0cyB0byB1c2luZyBtYWluICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBub1NjcmlwdCAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEb24ndCBpbmNsdWRlIGFueSBzY3JpcHRzIGZyb20gdGhlIHBhY2thZ2UgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIGZhbHNlICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGluY2x1ZGVNb2RlICAgICAgICAgfCBhcHAvdGVzdC9ib3RoICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFdoZW4gc2hvdWxkIHRoZSBwYWNrYWdlIGJlIGxvYWRlZCBhcyBhIG1vZHVsZSAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gYm90aCAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgc2NyaXB0SW5jbHVkZU1vZGUgICB8IG5vbmUvYnVuZGxlZC9ub3RCdW5kbGVkL2JvdGggICAgICAgICAgICAgIHwgV2hlbiBzaG91bGQgdGhlIHBhY2thZ2UgYmUgaW5jbHVkZWQgYXMgYSBzY3JpcHQgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgb3B0aW9uYWwgLSBkZWZhdWx0cyB0byBub25lICAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBpc1BhY2thZ2UgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBUaGlzIGlzIGluY2x1ZGVkIGFzIGEgcGFja2FnZSBpbiBtb2R1bGUgbG9hZGVycyAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIG5vdCBwYWNrYWdlICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGFzc2V0cyAgICAgICAgICAgICAgfCBjb21tYSBzZXBhcmF0ZWQgZ2xvYnMgICAgICAgICAgICAgICAgICAgICB8IFRoZXNlIGZpbGVzIGFyZSBwYWNrZWQgaW4gcGxhdGZvcm0gYnVpbGRzICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gZW1wdHkgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgdGVzdGluZ0FkZGl0aW9ucyAgICB8IGtleTE9dmFsdWUxO2tleTI9dmFsdWUyICAgICAgICAgICAgICAgICAgIHwgQWRkaXRpb25hbCBzY3JpcHRzIGZvciB0ZXN0aW5nICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgb3B0aW9uYWwgLSBkZWZhdWx0cyB0byBlbXB0eSAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBtYXAgICAgICAgICAgICAgICAgIHwga2V5MT12YWx1ZTE7a2V5Mj12YWx1ZTIgICAgICAgICAgICAgICAgICAgfCBBZGRpdGlvbmFsIG1vZHVsZSBjb25maWcgbWFwcyAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIGVtcHR5ICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGxvYWRlcnMgICAgICAgICAgICAgfCBrZXkxPXZhbHVlMTtrZXkyPXZhbHVlMiAgICAgICAgICAgICAgICAgICB8IEFkZGl0aW9uYWwgbW9kdWxlIGNvbmZpZyBsb2FkZXJzICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gZW1wdHkgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgcGFja2FnZU1hbmFnZXIgICAgICB8IG5wbS95YXJuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVGhlIHBhY2thZ2UgbWFuYWdlciB0byB1c2UgZm9yIHRoZSBhZGQgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgb3B0aW9uYWwgLSBkZWZhdWx0cyB0byBucG0gaWYgbm90IGFscmVhZHkgc2V0ICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBvdXRwdXREaXJlY3RvcnkgICAgIHwgJ3BhdGgnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMb2NhdGlvbiBvZiB0aGUgdW5pdGUuanNvbiBmcm9tIGNvbmZpZ3VyZSAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIGN1cnJlbnQgZGlyZWN0b3J5ICAgICAgIHxcIik7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiXCIpO1xuXG4gICAgICAgIGxvZ2dlci5iYW5uZXIoXCJjbGllbnRQYWNrYWdlIC0tb3BlcmF0aW9uPXJlbW92ZVwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IHBhY2thZ2VOYW1lICAgICAgICAgfCBwbGFpbiB0ZXh0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE5hbWUgb2YgdGhlIHBhY2thZ2UgdG8gcmVtb3ZlICAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBwYWNrYWdlTWFuYWdlciAgICAgIHwgbnBtL3lhcm4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBUaGUgcGFja2FnZSBtYW5hZ2VyIHRvIHVzZSBmb3IgdGhlIHJlbW92ZSAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIG5wbSBpZiBub3QgYWxyZWFkeSBzZXQgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IG91dHB1dERpcmVjdG9yeSAgICAgfCAncGF0aCcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExvY2F0aW9uIG9mIHRoZSB1bml0ZS5qc29uIGZyb20gY29uZmlndXJlICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gY3VycmVudCBkaXJlY3RvcnkgICAgICAgfFwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG5cbiAgICAgICAgbG9nZ2VyLmJhbm5lcihcInBsYXRmb3JtIC0tb3BlcmF0aW9uPWFkZFwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IHBsYXRmb3JtTmFtZSAgICAgICAgfCBXZWIvRWxlY3Ryb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE5hbWUgb2YgdGhlIHBsYXRmb3JtIHRvIGFkZCAgICAgICAgICAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBvdXRwdXREaXJlY3RvcnkgICAgIHwgJ3BhdGgnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMb2NhdGlvbiBvZiB0aGUgdW5pdGUuanNvbiBmcm9tIGNvbmZpZ3VyZSAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIGN1cnJlbnQgZGlyZWN0b3J5ICAgICAgIHxcIik7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiXCIpO1xuXG4gICAgICAgIGxvZ2dlci5iYW5uZXIoXCJwbGF0Zm9ybSAtLW9wZXJhdGlvbj1yZW1vdmVcIik7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiXCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBvcGVyYXRpb24gICAgICAgICAgIHwgcmVtb3ZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgcGxhdGZvcm1OYW1lICAgICAgICB8IFdlYi9FbGVjdHJvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTmFtZSBvZiB0aGUgcGxhdGZvcm0gdG8gcmVtb3ZlICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IG91dHB1dERpcmVjdG9yeSAgICAgfCAncGF0aCcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExvY2F0aW9uIG9mIHRoZSB1bml0ZS5qc29uIGZyb20gY29uZmlndXJlICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gY3VycmVudCBkaXJlY3RvcnkgICAgICAgfFwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG5cbiAgICAgICAgbG9nZ2VyLmJhbm5lcihcIkdsb2JhbCBBcmd1bWVudHNcIik7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiXCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCBub0NvbG9yICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBJZiB0aGlzIGlzIHVzZWQgbm8gY29sb3Igd2lsbCBhcHBlYXIgaW4gb3V0cHV0ICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcInwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICBvcHRpb25hbCAtIGRlZmF1bHRzIHRvIG9uICAgICAgICAgICAgICAgICAgICAgIHxcIik7XG4gICAgICAgIHRoaXMubWFya2Rvd25UYWJsZVRvQ2xpKGxvZ2dlciwgXCJ8IGxvZ0ZpbGUgICAgICAgICAgICAgfCAnZmlsZW5hbWUnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFRoZSBsb2cgZmlsZSB0byBzdG9yZSB0aGUgbG9nZ2luZyBpbiAgICAgICAgICAgICB8XCIpO1xuICAgICAgICB0aGlzLm1hcmtkb3duVGFibGVUb0NsaShsb2dnZXIsIFwifCAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gbm8gZmlsZSBsb2dnaW5nICAgICAgICAgfFwiKTtcbiAgICAgICAgdGhpcy5tYXJrZG93blRhYmxlVG9DbGkobG9nZ2VyLCBcIlwiKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJcIik7XG5cbiAgICAgICAgbG9nZ2VyLmJhbm5lcihcIk1vcmUgSW5mb3JtYXRpb25cIik7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiXCIpO1xuICAgICAgICBsb2dnZXIuaW5mbyhcIiAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91bml0ZWpzL2NsaSNyZWFkbWUgZm9yIGZ1cnRoZXIgZGV0YWlscy5cIik7XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRpc3BsYXlBZGRpdGlvbmFsVmVyc2lvbihsb2dnZXI6IElMb2dnZXIpOiB2b2lkIHtcbiAgICAgICAgbG9nZ2VyLmJhbm5lcihgRW5naW5lIHYke3RoaXMuX2VuZ2luZS52ZXJzaW9uKCl9YCk7XG4gICAgfVxufVxuIl19
